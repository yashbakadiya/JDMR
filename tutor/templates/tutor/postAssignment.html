{% extends 'tutor/dashboardStudent.html' %}
{% load static %}
{% block css %}
<style>
@import url('https://fonts.googleapis.com/css?family=Numans');

.container{
align-content: center;
}

.card{
margin-top: auto;
margin-bottom: auto;
width: 800px;
background-color: white;
}

.card-header h3{
color: white;
}

input:focus{
outline: 0 0 0 0  !important;
box-shadow: 0 0 0 0 !important;

}

.remember{
color: white;
}

.remember input
{
width: 19px;
height: 19px;
margin-left: 15px;
margin-right: 5px;
}

.links{
color: white;
}

.links a{
margin-left: 4px;
}

.control-label {
color: rgb(66, 8, 8);
font-size: 20px;
}

.social_icon span{
font-size: 60px;
margin-left: 10px;
color: #FFC312;
}

.social_icon span:hover{
color: white;
cursor: pointer;
}

.card-header h3{
color: white;
}

.social_icon{
position: absolute;
right: 20px;
top: -45px;
}

.input-group-prepend span{
width: 50px;
background-color: #FFC312;
color: black;
border:0 !important;
}

input:focus{
outline: 0 0 0 0  !important;
box-shadow: 0 0 0 0 !important;

}

.remember{
color: white;
}

.remember input
{
width: 20px;
height: 20px;
margin-left: 15px;
margin-right: 5px;
}

.links{
color: white;
}

.links a{
margin-left: 4px;
}

.control-label {
    color: rgb(66, 8, 8);
    font-size: 20px;
}
.input-group{
    margin-bottom: 2rem;
}
</style>
{% endblock %}
{% block body %}
<div class="container">
    {% if errors %}
    <div class="alert alert-danger" role="alert">
        <div id='errorsBox'>
            <div>
                <h5 style="color: red;text-shadow:-0.5px -0.5px 0 #000,0.5px -0.5px 0 #000,-0.5px 0.5px 0 #000,0.5px 0.5px 0 #000;">Error !</h5>
                <ul>
                    {% for x in errors %}
                    <li>{{ x }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
        {% endif %}
    <div class="d-flex justify-content-center h-100">
        <div class="card">
            <div class="card-header">
                <div class="row">
                    <div class="col-sm-10"><h2 style="color: rgb(66, 8, 8);">Add Assignment</h2></div>

                </div>
            </div>
            <div class="card-body container">
        <form id='submitForm' method='post' action='' enctype='multipart/form-data'>{% csrf_token %}
                    <div class="input-group form-group">
                        <label class="control-label col-sm-4">Course<span class="text-danger">*</span></label>
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-book"></i></span>
                        </div>
                        <select id="ctn" name="ctn" class="custom-select form-control" required="required" onclick="addvals(this)" onchange="addoptions(this);">
                              <option disabled selected value>Select an option</option>
                              {% for x in data %}
                              <option value="{{ x.courseName }}">{{ x.courseName }}</option>
                              {% endfor %}
                        </select>
                    </div>
                    <div class="input-group form-group">
                        <label class="control-label col-sm-4">Class<span class="text-danger">*</span></label>
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-user-graduate"></i></span>
                        </div>
                        <select id="cn" name="cn" class="custom-select form-control" required="required" onclick="addvals(this)">
                              <option disabled selected value>Select an option</option>
                              {% for x in data %}
                              <option value="{{ x.courseName }}">{{ x.className }}</option>
                              {% endfor %}
                        </select>
                    </div>

                    <div class="input-group form-group">
                        <label class="control-label col-sm-4">Description<span class="text-danger">*</span></label>
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="far fa-sticky-note"></i></span>
                        </div>
                        <textarea class="form-control" name='description' placeholder="Description of Work" required type="number" ></textarea>
                    </div>
                    <div class="input-group form-group">
                        <label class="control-label col-sm-4">File attached</label>
                        <div class="col-sm-8">
                            <input type="file" class="form-control-file" id="file" name="file">
                        </div>
                    </div>

                    <div class="input-group form-group">
                        <label class="control-label col-sm-4">Requirement<span class="text-danger">*</span></label>
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-calendar-day"></i></span>
                        </div>
                        <input  type="number" class="form-control" id="requirement" name='requirement' placeholder="Requirement" required>
                    </div>

                    <div class="input-group form-group">
                        <label class="control-label col-sm-4">Budget<span class="text-danger">*</span></label>
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fas fa-money-check-alt"></i></span>
                        </div>
                        <input  type="number" step="0.01" class="form-control" id="budget" name="budget" placeholder="Budget" required>
                    </div>

          <div class="row container d-flex justify-content-end">
            <div class="col-sm-2 sm-ml-1">
              <button id='submitBtn' name="submit" type="submit" class="btn btn-warning">Post</button>

            </div>
          </div>

        </form>
      </div>
        </div>
    </div>
</div>
<script>
    function clear_all(){
    var x = document.getElementsByClassName("form-control");
    for(var i=0;i<x.length;i++){
      x[i].value='';
    }
  }
  alldata = JSON.parse("{{jsdata|escapejs}}");

    function addoptions(el){
        course = el.value;
        html1 = "";
        for(i=0;i<alldata[course][0].length;i++){
            html1+= "<option value=\""+alldata[course][0][i]+"\">"+alldata[course][0][i]+"</option> ";
        }
        $("#cn").html(html1);
    }

</script>
{% endblock %}
