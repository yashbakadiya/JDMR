{% extends template %}
{% load static %}
<!-- BEGIN PAGE LEVEL STYLES -->
{% block extra-stylesheets %}
<link href="{% static 'assets/css/apps/mailing-chat.css' %}" rel="stylesheet" type="text/css" />
<style>
    input[type=submit] {
        background: #816cfd;
        color: white;
        width: 80%;
        height: 7vh;
        border: red;
        border-radius: 25px;
        font-size: 25px;
    }

    input[type=text] {
        width: 80%;
        height: 5vh;
        border-radius: 25px;
        font-size: 25px;
        text-align: center;
    }

    .footer {
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        background-color: green;
        color: white;
        text-align: right;
    }

    #boxes {
        display: flex;
        flex-wrap: wrap;
        gap: 4%;
        padding-top: 50px;
        padding-right: 20px;
        padding-left: 20px;
    }

    #leftbox {
        background: rgb(255, 255, 255);
        float: left;
        text-align: center;
        width: 48%;
        padding-bottom: 20px;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 20px;
        border-radius: 15px;
    }

    #rightbox {
        float: right;
        text-align: center;
        background: rgb(255, 255, 255);
        width: 48%;
        padding-bottom: 10px;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 10px;
        border-radius: 15px;
    }

    #contacts {
        background: rgba(236, 236, 236, 0.5);
        width: 100%;
        padding-left: 3px;
        padding-right: 3px;
        padding-top: 2px;
        padding-bottom: 2px;
        border-radius: 10px;
        color: black;
        text-align: left;
        margin-left: 3px;
    }

    #contacts:hover {
        background: rgba(209, 206, 206, 0.5);
    }

    h1 {
        color: #816cfd;
        text-align: center;
    }

    a:active {
        color: black;
        text-decoration: none;
    }

    a:hover {
        color: white;
        text-decoration: none;
    }

    @media (max-width: 800px) {

        #leftbox,
        #rightbox {
            flex: 100%;
        }
        #rightbox{
            margin-top: 2rem;;
        }
    }
</style>
{% endblock extra-stylesheets %}
<!-- END PAGE LEVEL STYLES -->
{% block main-content %}
<div id="boxes">


    <div id="leftbox">
        <h1>Proceed to chat with your Teacher</h1><br>
        <h3>But first, let us create a room</h3><br>
        <input type="text" id="room-name-input1" name="roomname" placeholder="Name"><br><br>


        <input type="submit" id="room-name-submit" value="Enter">
    </div>



    <div id="rightbox">

        {% if a %}
        <h2>Outgoing Chats</h2> <br><br>

        {% for i,photo in a %}

        {% if i.room != 'user' %}

        <a href="{{ i.room }}/">
            <div id="contacts">

                <h5>
                    <img style="border-radius:30px;" width="50" height="50" src="{{photo.url}}">
                    {{ i.room }}
                </h5>

            </div>
        </a> <br>

        {% endif %}

        {% endfor %}

        {% endif %}



        {% if b %}
        <br>
        <h2>Incoming Chats</h2> <br><br>

        {% for i,photo in b %}

        {% if i.names not in a and i.names != 'user' %}



        <a href="{{ i.names }}/">
            <div id="contacts">


                <h5><img style="border-radius:30px;" width="50" height="50" src="{{photo.url}}">
                    {{ i.names }}</h5>


            </div>
        </a> <br>



        {% endif %}

        {% endfor %}

        {% endif %}

    </div>
</div>
<script>
    document.querySelector('#room-name-input1').focus();

    document.querySelector('#room-name-input1').onkeyup = function (e) {
        if (e.keyCode === 13) {  // enter, return
            document.querySelector('#room-name-submit').click();
        }
    };


    document.querySelector('#room-name-submit').onclick = function (e) {
        var roomName = document.querySelector('#room-name-input1').value;
        window.location.pathname = '/chat/{{ name }}/{{ ts }}/' + roomName + '/';
    };
</script>

<script>
    $(document).ready(function () {
        App.init();
    });
</script>
<script src="{% static 'assets/js/custom.js' %}"></script>
<!-- END GLOBAL MANDATORY SCRIPTS -->
<!-- BEGIN PAGE LEVEL PLUGINS/CUSTOM SCRIPTS -->
<script src="{% static 'assets/js/apps/custom-mailbox.js' %}"></script>
<script src="{% static 'assets/js/apps/mailbox-chat.js' %}"></script>

<script>
    function load_home() {
        document.getElementById("footer1").innerHTML = '<object type="text/html" data="home.html" ></object>';
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"
    integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"
    integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG"
    crossorigin="anonymous"></script>

{% endblock %}