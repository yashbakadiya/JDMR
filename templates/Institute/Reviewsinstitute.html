{% extends template %}
{% load static %}
{% block main-content %}
<main class="mt-5">
    <div class="row">
        <div class="col-xl-3 col-lg-6 col-md-6 col-sm-6 layout-spacing">
            <div class="statbox widget box box-shadow">
                <div class="widget-content widget-content-area product-cat6  px-0 py-0">
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="wrapper">
                                    <div class="row">
                                        <div class="col-xl-12">
                                            {% if i.photo %}
                                            <img src="{{i.photo.url}}" class="img-fluid" alt="car-1">
                                            {% else %}
                                            <img src="{% static 'default-profile.png' %}" class="img-fluid" alt="car-1">
                                            {% endif %}
                                        </div>
                                        <div class="col-xl-12 text-center">
                                            <h4 class="card-title"><b style="color: black;">{{i.user.username}}</b>
                                                
                                                    {% for i in avgRating %}
                                                    <span class="flaticon-star-fill mt-2" style="color:yellow;"></span>
                                                    {% endfor %}
                                            </h4>
                                            <div class="mt-2 col-md-12 col-sm-12 col-12">
                                                <svg width="20" height="20" viewBox="0 0 20 20"
                                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M20 14.92V17.92C20.0011 18.1985 19.9441 18.4742 19.8325 18.7293C19.7209 18.9845 19.5573 19.2136 19.3521 19.4019C19.1469 19.5901 18.9046 19.7335 18.6407 19.8227C18.3769 19.9119 18.0974 19.9451 17.82 19.92C14.7428 19.5856 11.787 18.5341 9.19 16.85C6.77383 15.3147 4.72534 13.2662 3.19 10.85C1.49998 8.2412 0.448243 5.27099 0.12 2.18C0.0950104 1.90347 0.127875 1.62476 0.2165 1.36162C0.305126 1.09849 0.447571 0.856689 0.634766 0.651621C0.821961 0.446553 1.0498 0.282709 1.30379 0.170522C1.55778 0.0583346 1.83234 0.000261514 2.11 3.51938e-08H5.11C5.59531 -0.00477641 6.06579 0.167079 6.43376 0.483533C6.80173 0.799987 7.04208 1.23945 7.11 1.72C7.23662 2.68007 7.47145 3.62273 7.81 4.53C7.94454 4.88792 7.97366 5.27691 7.89391 5.65088C7.81415 6.02485 7.62886 6.36811 7.36 6.64L6.09 7.91C7.51356 10.4135 9.58645 12.4864 12.09 13.91L13.36 12.64C13.6319 12.3711 13.9752 12.1858 14.3491 12.1061C14.7231 12.0263 15.1121 12.0555 15.47 12.19C16.3773 12.5286 17.3199 12.7634 18.28 12.89C18.7658 12.9585 19.2094 13.2032 19.5265 13.5775C19.8437 13.9518 20.0122 14.4296 20 14.92Z"
                                                        fill="#00D3D3" />
                                                </svg>
                                                <b class="ml-1">{{i.phone}}</b>
                                            </div>
                                            <div class="mt-2 col-md-12 col-sm-12 col-12">
                                                <svg width="22" height="18" viewBox="0 0 22 18" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M18.875 0.75H3.125C2.42904 0.750744 1.76179 1.02755 1.26967 1.51967C0.777545 2.01179 0.500744 2.67904 0.5 3.375V14.625C0.500744 15.321 0.777545 15.9882 1.26967 16.4803C1.76179 16.9725 2.42904 17.2493 3.125 17.25H18.875C19.571 17.2493 20.2382 16.9725 20.7303 16.4803C21.2225 15.9882 21.4993 15.321 21.5 14.625V3.375C21.4993 2.67904 21.2225 2.01179 20.7303 1.51967C20.2382 1.02755 19.571 0.750744 18.875 0.75ZM18.2103 5.09203L11.4603 10.342C11.3287 10.4444 11.1667 10.4999 11 10.4999C10.8333 10.4999 10.6713 10.4444 10.5397 10.342L3.78969 5.09203C3.71038 5.03214 3.64377 4.95709 3.59372 4.87123C3.54367 4.78537 3.51118 4.69042 3.49815 4.5919C3.48511 4.49338 3.49179 4.39325 3.51778 4.29733C3.54378 4.20142 3.58858 4.11162 3.64958 4.03316C3.71058 3.95471 3.78656 3.88916 3.87312 3.84032C3.95967 3.79149 4.05506 3.76034 4.15376 3.74869C4.25245 3.73704 4.35248 3.74513 4.44802 3.77247C4.54357 3.79981 4.63272 3.84587 4.71031 3.90797L11 8.79984L17.2897 3.90797C17.447 3.7892 17.6447 3.73711 17.84 3.76296C18.0354 3.78881 18.2128 3.89053 18.3338 4.04612C18.4547 4.20171 18.5096 4.39866 18.4865 4.59439C18.4634 4.79011 18.3642 4.96888 18.2103 5.09203Z"
                                                        fill="#FF7918" />
                                                </svg>
                                                <b class="ml-1">{{i.user.email}}</b>
                                            </div>
                                            <div class="mt-2 col-md-12 col-sm-12 col-12">
                                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z"
                                                        fill="#FFA800" stroke="#FFA800" stroke-width="2"
                                                        stroke-linecap="round" stroke-linejoin="round" />
                                                    <path
                                                        d="M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z"
                                                        stroke="white" stroke-width="2" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </svg>
                                                <b class="ml-1">{{i.address}}</b>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-9 col-md-9 col-12">
            <div class="statbox widget box box-shadow">
                <div class="widget-header">
                    <div class="row">
                        <div class="col-xl-12 col-md-12 col-12">
                            <h4 style="color:black;">Available Courses</h4>
                        </div>
                    </div>
                </div>
                <div class="widget-content widget-content-area">
                    <div class="table-responsive">
                        <table id="htmlgrid" class="testgrid table table-striped table-bordered table-hover mb-4">
                            <tr>
                                <th>#</th>
                                <th>Name</th>
                                <th>ForClass</th>
                                <th>Teach Type</th>
                                <th>Fees</th>
                            </tr>
                            {% for cou in course %}
                            <tr>
                                <td>{{forloop.counter}}</td>
                                <td>{{cou.courseName}}</td>
                                <td>{{cou.forclass}}</td>
                                {% for fee in cou.AddFeesC.all %}
                                <td>{{fee.teachType}}</td>
                                <td>{{fee.final_amount}}</td>
                                {% endfor %}
                            </tr>
                            {% endfor %}
                        </table>

                        <div class="widget-content widget-content-area text-center">
                            <ul class="pagination pagination-style-1 justify-content-center">
                                {% if course.has_previous %}
                                <li><a href="?page={{ course.previous_page_number }}">&laquo;</a></li>
                                {% else %}
                                {% endif %}
                                {% for i in course.paginator.page_range %}
                                {% if course.number == i %}
                                <li><a href="javascript:void(0);" class="active">{{ i }}</a></li>
                                {% else %}
                                <li><a href="?page={{ i }}">{{ i }}</a></li>
                                {% endif %}
                                {% endfor %}
                                {% if course.has_next %}
                                <li><a href="?page={{ course.next_page_number }}">&raquo;</a></li>
                                {% else %}
                                {% endif %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12 col-sm-12 col-12 mt-4">
            <div class="card mb-4 m-0">
                <div class="card-body m-0">
                    <h5 class="mb-2 text-dark">All Ratings and Reviews</h5>
                    {% for review in reviews %}
                    <div class="bg-white rounded shadow-sm p-2 mb-2 restaurant-detailed-ratings-and-reviews review">
                        <div class="reviews-members pt-2 pb-2">
                            <div class="media">
                                {% if review.Student.photo %}
                                <img alt="Generic placeholder image" src="{{review.Student.photo}}"
                                    class="mr-3 rounded-pill" style="height:2.5rem; width:2.5rem;">
                                {% else %}
                                <img alt="Generic placeholder image" src="https://i.stack.imgur.com/l60Hf.png"
                                    class="mr-3 rounded-pill" style="height:2.5rem; width:2.5rem;">
                                {% endif %}

                                <div class="media-body">
                                    <div class="reviews-members-header">
                                        <h6 class="mb-1 text-dark">{{review.student.user.username}}
                                            {% for i in review.Range %}
                                            <span class="flaticon-star-fill mt-2" style="color:yellow;"></span>
                                            {% endfor %}</h6>
                                        <p class="mb-1" style="font-size: 12px;">{{review.Posted_On}}</p>
                                    </div>
                                    <div class="reviews-members-body mt-0 text-black">
                                        <p class="text-dark">{{review.Review}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    {% if show %}
                    <form method="post">
                        {% csrf_token %}
                        <div class="form-group m-0">
                            <h3 for="exampleFormControlTextarea1" class="text-dark m-0 mt-5">Write A Review</h3>
                            <textarea class="form-control mt-2" id="exampleFormControlTextarea1" rows="3"
                                placeholder="Write Your Review" required="This Field Cannot be Empty"
                                name="comment"></textarea>
                        </div>
                        <select id="inputState" class="custom-select form-control w-100 mt-2"
                            style="float: left;width:30%;" name="rating">
                            <option value="5">5</option>
                            <option value="4">4</option>
                            <option value="3">3</option>
                            <option value="2">2</option>
                            <option value="1">1</option>
                        </select>
                        <button class="btn btn-primary mt-2" style="float: right;">Post Review</button>
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock main-content %}