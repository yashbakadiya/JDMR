{% extends template %}
{% load static %}
{% block main-content %}
<link rel="stylesheet" href="{% static 'css/croppie.css' %}" />
<script src="{% static 'js/croppie.min.js' %}"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCBJybI10-Xa43-F5GSad1i0Y9W3yqlW6Q&libraries=places&v=3"
	defer></script>
<div class="">
	<div class="row layout-spacing mt-5">
    <div class="col-lg-12">
        <div class="card statbox widget box box-shadow">
            <div class="card-header">
                <div class="row">
                    <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                        <h2 style="color:black;">Payment</b></h2>
                    </div>
                </div>
            </div>
            <div class="widget-content widget-content-area">
                <form id="frm" class="mb-4 mt-4" method="post">{% csrf_token %}
                    <div class="mx-2 row" id="INSTBATCH">
                        <div class="col">
                            <label for="validationCustom01"><strong>Fee Category<span class="red">*</span></strong></label>
                            <select name="tm" class="custom-select form-control" required="required">
                                <option disabled selected value>Select</option>
                                <option value="Premium Package">Premium Package</option>
                                <option value="Diamond Package">Diamond Package</option>
                            </select>
                        </div>
                        <div class="col">
                            <div class="col">
                                <label for="validationCustom01"><strong>Fees <span class="red">*</span></strong></label>
                                <input type="number" min="0" class="form-control finalcalc" id="feeamt" name='feeamt' placeholder="Fee amount" required>
                            </div>
                        </div>
                        <div class="col">
                            <label for="validationCustom01"><strong>Fee Cycle<span class="red">*</span></strong></label>
                            <select name="tm" class="custom-select form-control" required="required">
                                <option disabled selected value>Select</option>
                                <option value="Monthly">Monthly</option>
                                <option value="Annualy">Annualy</option>
                            </select>
                        </div>
                    </div>
                    <div class=" mx-2 row mt-4">

        
                        <div class="col-md-4 mb-3 ">
                            <label for="validationCustom01"><strong>Discount <span
                                        class="red">*</span></strong></label>
                            <input class="form-control" type="number" min="0" max="100" id="discount" name='feeDisc' placeholder="Discount (%)" />
        
                        </div>
        
                        <div class="col-md-4 mb-3 ">
                            <label for="validationCustom01"><strong>Discount Validity <span
                                        class="red">*</span></strong></label>
                            <input class="form-control" type="Date" id="validity" name='discValidity' placeholder="Val" disabled />
        
                        </div>
        
                    </div>

                    <div class=" mx-2 row mt-4">

        
                        <div class="col-md-4 mb-3 ">
                            <label for="validationCustom01"><strong>Coupon Code <span
                                class="red">*</span></strong></label>
                            <input type="text" class="form-control" name='title'  maxlength="8" placeholder="Coupon Code (8 Character)"
                            required="">
                    
                        </div>
        
                        <div class="col-md-4 mb-3 ">
                            <label for="validationCustom01"><strong>Coupon Validity <span
                                        class="red">*</span></strong></label>
                            <input class="form-control" type="Date" name='codeValidity' placeholder="Val" required />
        
                        </div>
        
                    </div>

                    
        
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary"> Submit </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</div>
<script>

    $('#discount').on('change',()=>{

        if ($('#discount').val()==0){
            $('#validity').prop('disabled', true);
            $('#validity').prop('required', false);
            $('#validity').val(null);
        }
        
        else{
            $('#validity').prop('disabled', false);
            $('#validity').prop('required', true);
        }
    })

</script>
{% endblock main-content %}