{% extends 'dashboard/Tutor-dashboard.html' %}
{% load static %}
{% block main-content %}
<main>
    <div class="container mt-4">
        <div class="card">
            <div class="card-header">
                <div class="row">
                    <div class="col-lg-8 col-md-8 col-sm-8 col-12">
                        <h2 style="color: black;">Add Tutorial</h2>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <form action="" method="post">{% csrf_token %}
                    <div id='mainForm' class="table-responsive">
                    <!--Table-->
                    <table id="htmlgrid" class="testgrid table table-striped table-bordered table-hover mb-4">
                        <!--Table head-->
                        <thead>
                            <tr>
                                <th style="color: black;">##</th>
                                <th style="color: black;">Course Title</th>
                                <th style="color: black;">Course Duration</th>
                                <th style="color: black;">Course Fees</th>
                                <th style="color: black;">Course Discount</th>
                                <th class="text-center" style="color: black;">Action</th>
                                <th class="text-center" style="color: black;">Archive</th>
                            </tr>
                        </thead>
                        <!--Table head-->
                        <!--Table body-->
                        <tbody>
                            {% for i in tutorials reversed %}
                            <tr>
                                <td>{{forloop.counter}}</td>
                                <td><p style="color: black;">{{i.Title}}</p></td>
                                <td>{{i.Duration}} Months</td>
                                <td>{{i.Fees}}</td>
                                {% if i.Discount_Validity %}
                                <td>{{i.Discounted_price }} <del>{{i.Fees}}</del></td>
                                {% else %}
                                <td>Not Available</td>
                                {% endif %}
                                <td class="d-flex justify-content-center">
                                <a class="btn btn-info mx-2" href="{% url 'viewtutorialtutor' i.id %}"><i
                                        class="flaticon-view" style="font-size:medium;"></i></a>
                                <a class="btn btn-warning mx-2" href="{% url 'editTutorialtutor' i.id %}"><i
                                        class="flaticon-pencil-line" style="font-size:medium;"></i></a>
                                <a class="btn btn-danger mx-2" href="{% url 'deletetutorialstutor' i.id %}"><i
                                        class="flaticon-delete-fill" style="font-size:medium;"></i></a>
                                </td>
                                <td class="text-center">
                                    <input type="checkbox" class="bigcheckbox" name="ids" value="{{i.id}}">
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                        <!--Table body-->
                    </table>
                    <!--Table-->
                </div>
                    <div class="form-group">
                        <input type="submit" value="Move to Archive" class="btn btn-danger float-right">
                    </div>
                    <br>
                </form>
                <br>
            </div>
        </div>
    </main>
    <script type="text/javascript">
        trlist = $("tbody>tr");
        $("body").on('input',"#searchbox",function(){
            trlist.hide();
            search = this.value.toLowerCase();
            len = search.length;
            for(i=0;i<trlist.length;i++){
                if(trlist[i].children[0].textContent==""){
                    cont = cont;
                }
                else{
                    cont = trlist[i].children[0].textContent.toLowerCase();
                }
                if(cont.search(search)!=-1){
                    $(trlist[i]).show();
                }
                if(trlist[i].children[1].textContent==""){
                    cont2 = cont2;
                }
                else{
                    cont2 = trlist[i].children[1].textContent.toLowerCase();
                }
                if(cont2.search(search)!=-1){
                    $(trlist[i]).show();
                }
            }

        });

    </script>
    {% endblock main-content %}
